{"version":3,"sources":["firebase.js","components/HeartCounter.js","components/Posts.js","components/Modal.js","components/NewForm.js","App.js","serviceWorker.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","HeartCounter","handleClick","id","heartStorage","JSON","parse","window","localStorage","getItem","setItem","setState","prevState","hearts","oldHeart","database","ref","update","state","stringify","this","props","count","className","aria-hidden","onClick","tabIndex","aria-label","Component","Post","header","description","songList","banner","title","author","publishInfo","src","imgUrl","alt","altText","href","photographer","target","rel","map","el","index","urlString","embedId","key","credit","seamless","embedLink","Modal","handleChange","e","searchTerm","value","clearTimeout","timer","setTimeout","doSearch","selectImg","urls","alt_description","user","regular","username","searchArr","APIKey","FOCUSABLE_SELECTORS","main","document","querySelector","modal","focusInMain","querySelectorAll","focusInModal","forEach","setAttribute","removeAttribute","body","style","overflow","Axios","url","method","dataResponse","params","client_id","orientation","per_page","query","then","res","data","results","htmlFor","type","name","onChange","placeholder","required","thumb","closeModal","handleSelect","NewForm","addSongs","userInput","addSongList","i","length","push","addImg","preventDefault","copyState","showImg","slice","handleAdd","numSongs","copySongList","newCount","handleSubmit","errMsg","copyStateValues","Object","values","filter","check","undefined","indexOf","error","isError","errorMsg","descript","offBtn","rows","maxLength","disabled","aria-disabled","closeForm","App","savePost","currentDate","Date","firebaseArr","getFullYear","getMonth","getDate","albumIdStart","albumIdEnd","albumId","linkStart","linkEnd","artistLink","creditEnd","artistCredit","showNew","posts","touchscreen","on","newState","val","unshift","content","navigator","maxTouchPoints","msMaxTouchPoints","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister","catch","console","message"],"mappings":"iUAcAA,IAASC,cAVc,CACnBC,OAAQ,0CACRC,WAAY,8BACZC,YAAa,qCACbC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,eACnBC,MAAO,8CAKIR,QAAf,ECkDeS,E,kDA9DX,aAAe,IAAD,8BACV,gBAuBJC,YAAc,SAACC,GAEX,IAAIC,EAAeC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQ,cAErC,OAAjBL,IACAG,OAAOC,aAAaE,QAAQ,YAAa,MACzCN,EAAe,IAGdA,EAAaD,KACd,EAAKQ,UAAS,SAAAC,GAAS,MAAK,CACxBC,OAAQD,EAAUC,OAAS,EAC3BC,UAAU,MACV,WACgBtB,EAASuB,WAAWC,IAAIb,EAAK,WACrCc,OAAO,CAAEJ,OAAQ,EAAKK,MAAML,YAExCT,EAAaD,IAAM,EACnBI,OAAOC,aAAaE,QAAQ,YAAaL,KAAKc,UAAUf,MAxC5D,EAAKc,MAAQ,CACTL,OAAQ,EACRC,UAAU,GAJJ,E,gEAUV,IAAMV,EAAeC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQ,cACvC,OAAjBL,GACIA,EAAagB,KAAKC,MAAMlB,KACxBiB,KAAKT,SAAS,CACVG,UAAU,IAItBM,KAAKT,SAAS,CACVE,OAAQO,KAAKC,MAAMC,U,+BA2BjB,IAAD,OACL,OACI,yBAAKC,UAAU,kBACX,uBAAGA,UAAU,iBAAiBC,cAAY,QAAQJ,KAAKF,MAAML,QAC7D,0BAAMU,UAAU,UAAUH,KAAKF,MAAML,OAAS,UAC9C,uBACIU,UAAW,gBAAkBH,KAAKF,MAAMJ,SAAW,YAAc,IACjEW,QAAS,kBAAM,EAAKvB,YAAY,EAAKmB,MAAMlB,KAC3CuB,SAAU,EACVC,aAAW,wB,GAxDJC,aC+BZC,EA/BF,SAAC,GAAmD,IAAjDC,EAAgD,EAAhDA,OAAQC,EAAwC,EAAxCA,YAAaC,EAA2B,EAA3BA,SAAUC,EAAiB,EAAjBA,OAAQ9B,EAAS,EAATA,GACnD,OACI,yBAAKoB,UAAU,uBACX,yBAAKA,UAAU,cACX,4BAAKO,EAAOI,OACZ,kBAAC,EAAD,CAAc/B,GAAIA,EAAImB,MAAOQ,EAAOjB,UAExC,0BAAMU,UAAU,YAAhB,MAA+BO,EAAOK,OAAtC,OAAkDL,EAAOM,aACzD,yBAAKb,UAAU,aACX,yBAAKc,IAAKJ,EAAOK,OAAQC,IAAKN,EAAOO,WAEzC,uBAAGjB,UAAU,aAAb,YACa,uBAAGkB,KAAM,yBAA2BR,EAAOS,aAAe,8CAA+CC,OAAO,SAASC,IAAI,uBAAuBX,EAAOS,cADxK,UAEa,uBAAGD,KAAK,mEAAmEE,OAAO,SAASC,IAAI,uBAA/F,aACb,2BAAIb,GACJ,4BACKC,EAASa,KAAI,SAACC,EAAIC,GACf,IAAMC,EAAY,6CAA+CF,EAAGG,QAAU,4DAE9E,OACI,wBAAI1B,UAAU,WAAW2B,IAAKH,GAC1B,4BAAQV,IAAKW,EAAWd,MAAOY,EAAGK,OAAQC,UAAQ,GAC9C,uBAAGX,KAAMK,EAAGO,WAAYP,EAAGK,gB,+BCqG5CG,E,kDAzHX,aAAe,IAAD,8BACV,gBAyCJC,aAAe,SAACC,GACZ,EAAK7C,SAAS,CACV8C,WAAYD,EAAEb,OAAOe,QAEzBC,aAAa,EAAKC,OAClB,EAAKA,MAAQC,YAAW,WACpB,EAAKC,aACN,MAjDO,EAwEdC,UAAY,YAAsC,IAAnCC,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,gBAAiBC,EAAW,EAAXA,KAClC,EAAKvD,SAAS,CACVoD,UAAW,CACPzB,OAAQ0B,EAAKG,QACb3B,QAASyB,EACTvB,aAAcwB,EAAKE,aA3E3B,EAAKlD,MAAQ,CACTuC,WAAY,GACZY,UAAW,GACXC,OAAQ,8CACRP,UAAW,CACPzB,OAAQ,GACRE,QAAS,GACTE,aAAc,KATZ,E,gEAkBV,IAAM6B,EAAsB,+KACtBC,EAAOC,SAASC,cAAc,QAC9BC,EAAQF,SAASC,cAAc,mBAC/BE,EAAcJ,EAAKK,iBAAiBN,GACpCO,EAAeH,EAAME,iBAAiBN,GAE5CK,EAAYG,SAAQ,SAAAjC,GAAE,OAAIA,EAAGkC,aAAa,WAAY,SACtDF,EAAaC,SAAQ,SAAAjC,GAAE,OAAIA,EAAGmC,gBAAgB,eAE9CR,SAASS,KAAKC,MAAMC,SAAW,W,6CAMlBX,SAASC,cAAc,QACXG,iBAFG,gLAIhBE,SAAQ,SAAAjC,GAAE,OAAIA,EAAGkC,aAAa,WAAY,QAEtDP,SAASS,KAAKC,MAAMC,SAAW,U,iCAevB,IAAD,OACPC,IAAM,CACFC,IAAK,0CACLC,OAAQ,MACRC,aAAc,OACdC,OAAQ,CACJC,UAAWtE,KAAKF,MAAMoD,OACtBqB,YAAa,YACbC,SAAU,GACVC,MAAOzE,KAAKF,MAAMuC,cAEvBqC,MAAK,SAAAC,GACJ,EAAKpF,SAAS,CACV0D,UAAU,YAAK0B,EAAIC,KAAKC,gB,+BAgB1B,IAAD,OACL,OACI,yBAAK1E,UAAU,8BACX,2BAAO2E,QAAQ,aAAa3E,UAAU,UAAtC,gBACA,2BAAO4E,KAAK,OACRhG,GAAG,aACHuD,MAAOtC,KAAKF,MAAMuC,WAClB2C,KAAK,SACLC,SAAUjF,KAAKmC,aACf+C,YAAY,sBACZC,UAAQ,IAEZ,yBAAKhF,UAAU,gBACX,yBAAKA,UAAU,iBACVH,KAAKF,MAAMmD,UAAUxB,KAAI,SAAAC,GACtB,OACI,yBAAKI,IAAKJ,EAAG3C,GACTkC,IAAKS,EAAGkB,KAAKwC,MACbjE,IAAKO,EAAGmB,gBACR1C,UAAU,YACVE,QAAS,kBAAM,EAAKsC,UAAUjB,IAC9BpB,SAAU,SAO9B,yBAAKH,UAAU,uBACX,yBAAKc,IAAKjB,KAAKF,MAAM6C,UAAUzB,OAAQC,IAAKnB,KAAKF,MAAM6C,UAAUvB,WAErE,6BACI,4BAAQf,QAASL,KAAKC,MAAMoF,WAAYlF,UAAU,UAAlD,SACA,4BAAQA,UAAU,SAASE,QAAS,SAAC+B,GAAD,OAAO,EAAKnC,MAAMqF,aAAalD,EAAG,EAAKtC,MAAM6C,aAAjF,gB,GApHAnC,aC0LL+E,E,kDA1LX,aAAe,IAAD,8BACV,gBAqBJC,SAAW,WAGP,IAHc,IACN5E,EAAa,EAAKd,MAAM2F,UAAxB7E,SACJ8E,EAAc,GACTC,EAAI,EAAGA,EAAI/E,EAASgF,OAAQD,IACjCD,EAAYG,KACR,wBAAI/D,IAAK6D,GACL,2BAAOxF,UAAU,SAAS2E,QAAS,aAAea,GAAlD,mBACA,2BAAOZ,KAAK,OACRhG,GAAI,aAAe4G,EACnBrD,MAAO1B,EAAS+E,GAChBX,KAAK,WACLC,SAAU,EAAK9C,aACf+C,YAAY,kBACZ/E,UAAU,YACVgF,UAAQ,MAIxB,OAAOO,GAxCG,EA4CdI,OAAS,SAAC1D,EAAGO,GACTP,EAAE2D,iBACF,IAAMC,EAAS,eAAQ,EAAKlG,MAAM2F,WAClCO,EAAUnF,OAAV,eAAwB8B,GACxB,EAAKpD,SAAS,CACVkG,UAAWO,EACXC,SAAS,KAlDH,EAsDdZ,WAAa,kBAAM,EAAK9F,SAAS,CAAE0G,SAAS,KAtD9B,EAyDd9D,aAAe,SAACC,GACZ,IAAM4D,EAAS,eAAQ,EAAKlG,MAAM2F,WADhB,EAEUrD,EAAEb,OAAtByD,EAFU,EAEVA,KAAM1C,EAFI,EAEJA,MACRX,EAHY,EAEG5C,GACJmH,OAAO,GACX,aAATlB,EACAgB,EAAUpF,SAASe,GAASW,EAE3B0D,EAAUhB,GAAQ1C,EACvB,EAAK/C,SAAS,CACVkG,UAAWO,KAlEL,EAuEdG,UAAY,SAAC/D,GAET,GADAA,EAAE2D,iBACE,EAAKjG,MAAMsG,SAAW,EAAG,CACzB,IAAIC,EAAY,YAAO,EAAKvG,MAAM2F,UAAU7E,UAC5CyF,EAAaR,KAAK,IAClB,IAAMS,EAAW,EAAKxG,MAAMsG,SAAW,EACvC,EAAK7G,UAAS,SAAAC,GAAS,MAAK,CACxB4G,SAAUE,EACVb,UAAU,2BACHjG,EAAUiG,WADR,IAEL7E,SAAUyF,QAEd,kBAAM,EAAKb,gBAnFT,EAuFde,aAAe,SAACnE,GACZ,IAAIoE,EAAS,GACbpE,EAAE2D,iBAGF,IAAMU,EAAkBC,OAAOC,OAAPD,OAAA,IAAAA,CAAA,GAAmB,EAAK5G,MAAM2F,YAM9B,IALPgB,EAAgBG,QAAO,SAAAlF,GACpC,IAAImF,EAAQnF,EAEZ,YADkBoF,IAAdpF,EAAGkE,SAAsBiB,EAAQH,OAAOC,OAAOjF,IAC5CmF,EAAMjB,OAAS,KAEbA,OAAcY,EAAS,0BAIhCC,EAAgB,GAAG9C,SAAQ,SAAAjC,GACnBA,EAAGqF,QAAQ,+BAAiC,GAAKrF,EAAGkE,OAAS,IAC7DY,EAAS,8CAKC,IAAlBA,EAAOZ,OAAc,EAAK3F,MAAMsG,aAAa,EAAKzG,MAAM2F,WACvD,EAAKlG,SAAS,CACfyH,MAAO,CACHC,SAAS,EACTC,SAAUV,MA/GlB,EAAK1G,MAAQ,CACTsG,SAAU,EACVH,SAAS,EACTR,UAAW,CACP3E,MAAO,GACPC,OAAQ,GACRoG,SAAU,GACVvG,SAAU,CAAC,IACXC,OAAQ,CACJK,OAAQ,KAGhB8F,MAAO,CACHC,SAAS,EACTC,SAAU,KAhBR,E,qDAuHJ,IAAD,SACuClH,KAAKF,MAAM2F,UAA/C3E,EADH,EACGA,MAAOC,EADV,EACUA,OAAQoG,EADlB,EACkBA,SAAUtG,EAD5B,EAC4BA,OAC3BuG,IAASpH,KAAKF,MAAMsG,SAAW,GACrC,OACI,oCACKpG,KAAKF,MAAMmG,SACR,oCACI,yBAAK9F,UAAU,YACf,kBAAC,EAAD,CAAOmF,aAActF,KAAK8F,OAAQT,WAAYrF,KAAKqF,cAG3D,0BAAMlF,UAAU,qBACZ,2BAAOA,UAAU,SAAS2E,QAAQ,cAAlC,cACA,2BAAOC,KAAK,OACRhG,GAAG,YACHuD,MAAOxB,EACPkE,KAAK,QACLC,SAAUjF,KAAKmC,aACf+C,YAAY,aACZC,UAAQ,IAEZ,2BAAOhF,UAAU,SAAS2E,QAAQ,eAAlC,aACA,2BAAOC,KAAK,OACRhG,GAAG,cACHuD,MAAOvB,EACPiE,KAAK,SACLC,SAAUjF,KAAKmC,aACf+C,YAAY,cACZC,UAAQ,IAEZ,yBACIhF,UAAW,aAAeU,EAAOK,OAAO0E,OAAS,EAAI,SAAW,IAChEvF,QAAS,kBAAM,EAAKd,SAAS,CAAE0G,SAAS,KACxC3F,SAAU,GACTO,EAAOK,OAAO0E,OAAS,EAClB,yBAAK3E,IAAKJ,EAAOK,OAAQC,IAAKN,EAAOO,UACrC,wDAIV,2BAAOjB,UAAU,SAAS2E,QAAQ,gBAAlC,eACA,8BAAUuC,KAAK,IAAIC,UAAU,MACzBvI,GAAG,eACHuD,MAAO6E,EACPnC,KAAK,WACLC,SAAUjF,KAAKmC,aACf+C,YAAY,qGACZC,UAAQ,IAEZ,4BACKnF,KAAKwF,YAGV,6BACI,4BACInF,QAASL,KAAKmG,UAAWhG,UAAU,oBAAoBoH,SAAUH,EAAQI,gBAAeJ,GAD5F,iBAGJ,yBAAKjH,UAAU,gBACX,4BAAQE,QAASL,KAAKC,MAAMwH,UAAWtH,UAAU,UAAjD,UACA,4BAAQ4E,KAAK,SAAS1E,QAASL,KAAKuG,aAAcpG,UAAU,UAA5D,QACA,uBAAGA,UAAW,UAAaH,KAAKF,MAAMkH,MAAMC,QAAe,QAAL,KAAgBjH,KAAKF,MAAMkH,MAAME,iB,GApLzF1G,aCiHPkH,E,kDA1Gb,aAAe,IAAD,8BACZ,gBA2BFC,SAAW,SAAClC,GAkBV,IAlByB,IACjB3E,EAA8C2E,EAA9C3E,MAAOC,EAAuC0E,EAAvC1E,OAAQoG,EAA+B1B,EAA/B0B,SAAUvG,EAAqB6E,EAArB7E,SAAUC,EAAW4E,EAAX5E,OACrC+G,EAAc,IAAIC,KAEpBC,EAAc,CAChBpH,OAAQ,CACNK,SACAD,QACAE,YALa,UAAM4G,EAAYG,cAAlB,aAAoC,KAAOH,EAAYI,WAAa,IAAI9B,OAAO,GAA/E,aAAsF,IAAM0B,EAAYK,WAAW/B,OAAO,IAMvIzG,OAAQ,GAEVkB,YAAawG,EACbvG,SAAU,GACVC,UAIIwF,EAAezF,EAASgG,QAAO,SAAAlF,GAAE,OAAIA,EAAGkE,OAAS,KAC9CD,EAAI,EAAGA,EAAIU,EAAaT,OAAQD,IAAK,CAC5C,IAAMjE,EAAK2E,EAAaV,GAGlBuC,EAAexG,EAAGqF,QAAQ,SAAW,QAAQnB,OAAS,EACtDuC,EAAazG,EAAGqF,QAAQ,IAAKmB,GAC7BE,EAAU1G,EAAGwE,MAAMgC,EAAcC,GAGjCE,EAAY3G,EAAGqF,QAAQ,WAAa,UAAUnB,OAAS,EACvD0C,EAAU5G,EAAGqF,QAAQ,KAAOsB,GAC5BE,EAAa7G,EAAGwE,MAAMmC,EAAWC,GAGjCE,EAAY9G,EAAGqF,QAAQ,OAAQuB,GAC/BG,EAAe/G,EAAGwE,MAAMoC,EAAU,EAAGE,GAE3CV,EAAYlH,SAASiF,KAAK,CACxB9D,OAAQ0G,EACR5G,QAASuG,EACTnG,UAAWsG,IAGDnK,EAASuB,WAAWC,MAC5BiG,KAAKiC,GACX,EAAKvI,SAAS,CAAEmJ,SAAS,KArEzB,EAAK5I,MAAQ,CACX6I,MAAO,GACPD,SAAS,EACTE,aAAa,GALH,E,gEAUO,IAAD,OACJxK,EAASuB,WAAWC,MAC5BiJ,GAAG,SAAS,SAAAlE,GAChB,IAAMmE,EAAW,GACXlE,EAAOD,EAAIoE,MACjB,IAAK,IAAIrH,KAAMkD,EACbkE,EAASE,QAAQ,CACflH,IAAKJ,EACLuH,QAASrE,EAAKlD,KAGlB,EAAKnC,SAAS,CAAEoJ,MAAOG,QAIpB,iBAAkB3J,QAAY+J,UAAUC,eAAiB,GAAOD,UAAUE,iBAAmB,IAAIpJ,KAAKT,SAAS,CAAEqJ,aAAa,M,+BAiD3H,IAAD,OACP,OACE,yBAAKzI,UAAU,OACb,wBAAIA,UAAU,SAAd,eAECH,KAAKF,MAAM8I,YAAc,GACvB5I,KAAKF,MAAM4I,QAER,kBAAC,EAAD,CACAjB,UAAW,kBAAM,EAAKlI,SAAS,CAAEmJ,SAAS,KAC1CnC,aAAcvG,KAAK2H,WAHnB,4BAAQxH,UAAU,eAAeE,QAAS,kBAAM,EAAKd,SAAS,CAAEmJ,SAAS,MAAzE,SAML1I,KAAKF,MAAM6I,MAAMlH,KAAI,SAAAC,GAAO,IAAD,EACwBA,EAAGuH,QAA7CvI,EADkB,EAClBA,OAAQC,EADU,EACVA,YAAaC,EADH,EACGA,SAAUC,EADb,EACaA,OACvC,OACE,kBAAC,EAAD,CACEiB,IAAKJ,EAAGI,IACR/C,GAAI2C,EAAGI,IACPpB,OAAQA,EACRC,YAAaA,EACbC,SAAUA,EACVC,OAAQA,Y,GAjGJL,aCGE6I,QACW,cAA7BlK,OAAOmK,SAASC,UAEe,UAA7BpK,OAAOmK,SAASC,UAEhBpK,OAAOmK,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFtG,SAASuG,eAAe,SDyHpB,kBAAmBV,WACrBA,UAAUW,cAAcC,MACrBpF,MAAK,SAAAqF,GACJA,EAAaC,gBAEdC,OAAM,SAAAjD,GACLkD,QAAQlD,MAAMA,EAAMmD,c","file":"static/js/main.e553ecd1.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/database';\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCcjQZCdsuQzcdA9Zk1-xvJ43qLM3Nl4ho\",\r\n    authDomain: \"fresh-vibes.firebaseapp.com\",\r\n    databaseURL: \"https://fresh-vibes.firebaseio.com\",\r\n    projectId: \"fresh-vibes\",\r\n    storageBucket: \"fresh-vibes.appspot.com\",\r\n    messagingSenderId: \"772541813549\",\r\n    appId: \"1:772541813549:web:ae9aa0c6ce4b542ffd39a4\"\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;","import React, { Component } from 'react';\r\nimport firebase from './../firebase.js';\r\n\r\nclass HeartCounter extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            hearts: 0,\r\n            oldHeart: false\r\n        }\r\n    }\r\n\r\n    // check if browser has previous record of likes\r\n    componentDidMount() {\r\n        const heartStorage = JSON.parse(window.localStorage.getItem(\"heartsLog\"));\r\n        if (heartStorage !== null) {\r\n            if (heartStorage[this.props.id]) {\r\n                this.setState({\r\n                    oldHeart: true\r\n                })\r\n            }\r\n        }\r\n        this.setState({\r\n            hearts: this.props.count\r\n        })\r\n    }\r\n\r\n    // update like counter on firebase\r\n    handleClick = (id) => {\r\n        // using localStorage to limit number of hearts per computer/user to 1\r\n        let heartStorage = JSON.parse(window.localStorage.getItem(\"heartsLog\"));\r\n\r\n        if (heartStorage === null) {\r\n            window.localStorage.setItem(\"heartsLog\", \"{}\");\r\n            heartStorage = {};\r\n        }\r\n\r\n        if (!heartStorage[id]) {\r\n            this.setState(prevState => ({\r\n                hearts: prevState.hearts + 1,\r\n                oldHeart: true\r\n            }), () => {\r\n                const postRef = firebase.database().ref(id + \"/header\");\r\n                postRef.update({ hearts: this.state.hearts })\r\n            })\r\n            heartStorage[id] = true;\r\n            window.localStorage.setItem(\"heartsLog\", JSON.stringify(heartStorage));\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"heartContainer\">\r\n                <p className=\"counterDisplay\" aria-hidden=\"true\">{this.state.hearts}</p>\r\n                <span className=\"srOnly\">{this.state.hearts + \" likes\"}</span>\r\n                <i\r\n                    className={\"fas fa-heart\" + (this.state.oldHeart ? \" oldHeart\" : \"\")}\r\n                    onClick={() => this.handleClick(this.props.id)}\r\n                    tabIndex={0}\r\n                    aria-label=\"like this post\"\r\n                ></i>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HeartCounter;\r\n","import React from 'react';\r\nimport HeartCounter from './HeartCounter';\r\n\r\nconst Post = ({ header, description, songList, banner, id }) => {\r\n    return (\r\n        <div className=\"block postContainer\">\r\n            <div className=\"postHeader\">\r\n                <h2>{header.title}</h2>\r\n                <HeartCounter id={id} count={header.hearts} />\r\n            </div>\r\n            <span className=\"postInfo\">by {header.author} on {header.publishInfo}</span>\r\n            <div className=\"bannerImg\">\r\n                <img src={banner.imgUrl} alt={banner.altText} />\r\n            </div>\r\n            <p className=\"imgCredit\">\r\n                Photo by <a href={\"https://unsplash.com/@\" + banner.photographer + \"?utm_source=fresh_vibes&utm_medium=referral\"} target=\"_blank\" rel=\"noopener noreferrer\">{banner.photographer}</a>\r\n                &nbsp;on <a href=\"https://unsplash.com/?utm_source=fresh_vibes&utm_medium=referral\" target=\"_blank\" rel=\"noopener noreferrer\">Unsplash</a></p>\r\n            <p>{description}</p>\r\n            <ul>\r\n                {songList.map((el, index) => {\r\n                    const urlString = \"https://bandcamp.com/EmbeddedPlayer/album=\" + el.embedId + \"/size=small/bgcol=f5f1ea/linkcol=0687f5/transparent=true/\";\r\n\r\n                    return (\r\n                        <li className=\"songInfo\" key={index}>\r\n                            <iframe src={urlString} title={el.credit} seamless>\r\n                                <a href={el.embedLink}>{el.credit}</a>\r\n                            </iframe>\r\n                        </li>\r\n                    )\r\n                })}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\nexport default Post;\r\n\r\n","import React, { Component } from 'react';\r\nimport Axios from 'axios';\r\n\r\n\r\nclass Modal extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            searchTerm: '',\r\n            searchArr: [],\r\n            APIKey: \"UTVmOX5KTgYoWwFFdjDBBDvIbovGexTDgITSGWjrC3c\",\r\n            selectImg: {\r\n                imgUrl: '',\r\n                altText: '',\r\n                photographer: '',\r\n            }\r\n        }\r\n    }\r\n\r\n    // code to show / hide elements from assistive tech from here: https://codepen.io/noahblon/pen/yJpXka\r\n\r\n    // hide tabbing for all elements behind modal, show tabbing for elements in modal\r\n    componentDidMount() {\r\n        const FOCUSABLE_SELECTORS = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]';\r\n        const main = document.querySelector('body');\r\n        const modal = document.querySelector('.modalContainer');\r\n        const focusInMain = main.querySelectorAll(FOCUSABLE_SELECTORS);\r\n        const focusInModal = modal.querySelectorAll(FOCUSABLE_SELECTORS);\r\n\r\n        focusInMain.forEach(el => el.setAttribute('tabindex', '-1'));\r\n        focusInModal.forEach(el => el.removeAttribute('tabindex'));\r\n\r\n        document.body.style.overflow = \"hidden\";\r\n    }\r\n\r\n    // hide tabbing for elements in modal, show tabbing for all elements in main\r\n    componentWillUnmount() {\r\n        const FOCUSABLE_SELECTORS = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]';\r\n        const main = document.querySelector('body');\r\n        const focusInMain = main.querySelectorAll(FOCUSABLE_SELECTORS);\r\n\r\n        focusInMain.forEach(el => el.setAttribute('tabindex', '0'));\r\n\r\n        document.body.style.overflow = \"unset\";\r\n    }\r\n\r\n    // save search term to state; wait 1 sec after user stops typing before doing API call\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            searchTerm: e.target.value\r\n        })\r\n        clearTimeout(this.timer);\r\n        this.timer = setTimeout(() => {\r\n            this.doSearch();\r\n        }, 1000)\r\n    }\r\n\r\n    // API call to Unsplash\r\n    doSearch() {\r\n        Axios({\r\n            url: \"https://api.unsplash.com/search/photos/\",\r\n            method: \"GET\",\r\n            dataResponse: \"json\",\r\n            params: {\r\n                client_id: this.state.APIKey,\r\n                orientation: \"landscape\",\r\n                per_page: 12,\r\n                query: this.state.searchTerm\r\n            }\r\n        }).then(res => {\r\n            this.setState({\r\n                searchArr: [...res.data.results]\r\n            })\r\n        })\r\n    }\r\n\r\n    // save user selected img to state\r\n    selectImg = ({ urls, alt_description, user }) => {\r\n        this.setState({\r\n            selectImg: {\r\n                imgUrl: urls.regular,\r\n                altText: alt_description,\r\n                photographer: user.username\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"modalContainer newBtn form\">\r\n                <label htmlFor=\"searchText\" className=\"srOnly\">Search image</label>\r\n                <input type=\"text\"\r\n                    id=\"searchText\"\r\n                    value={this.state.searchTerm}\r\n                    name=\"author\"\r\n                    onChange={this.handleChange}\r\n                    placeholder=\"Search for an image\"\r\n                    required />\r\n\r\n                <div className=\"unsplashImgs\">\r\n                    <div className=\"unsplashInner\">\r\n                        {this.state.searchArr.map(el => {\r\n                            return (\r\n                                <img key={el.id}\r\n                                    src={el.urls.thumb}\r\n                                    alt={el.alt_description}\r\n                                    className=\"imgThumbs\"\r\n                                    onClick={() => this.selectImg(el)}\r\n                                    tabIndex={0}\r\n                                />\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"selectImg bannerImg\">\r\n                    <img src={this.state.selectImg.imgUrl} alt={this.state.selectImg.altText} />\r\n                </div>\r\n                <div>\r\n                    <button onClick={this.props.closeModal} className=\"delBtn\">close</button>\r\n                    <button className=\"impBtn\" onClick={(e) => this.props.handleSelect(e, this.state.selectImg)}>select</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport Modal from './Modal.js'\r\n\r\nclass NewForm extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            numSongs: 1,\r\n            showImg: false,\r\n            userInput: {\r\n                title: '',\r\n                author: '',\r\n                descript: '',\r\n                songList: [''],\r\n                banner: {\r\n                    imgUrl: ''\r\n                }\r\n            },\r\n            error: {\r\n                isError: false,\r\n                errorMsg: ''\r\n            },\r\n        }\r\n    }\r\n\r\n    // create input fields for adding embed codes\r\n    addSongs = () => {\r\n        const { songList } = this.state.userInput;\r\n        let addSongList = [];\r\n        for (let i = 0; i < songList.length; i++) {\r\n            addSongList.push(\r\n                <li key={i}>\r\n                    <label className=\"srOnly\" htmlFor={\"inputEmbed\" + i}>Song Embed Code</label>\r\n                    <input type=\"text\"\r\n                        id={\"inputEmbed\" + i}\r\n                        value={songList[i]}\r\n                        name=\"songList\"\r\n                        onChange={this.handleChange}\r\n                        placeholder=\"Song Embed Code\"\r\n                        className=\"songInput\"\r\n                        required />\r\n                </li>\r\n            )\r\n        }\r\n        return addSongList;\r\n    }\r\n\r\n    // save selected banner img to state\r\n    addImg = (e, selectImg) => {\r\n        e.preventDefault();\r\n        const copyState = { ...this.state.userInput };\r\n        copyState.banner = { ...selectImg }\r\n        this.setState({\r\n            userInput: copyState,\r\n            showImg: false\r\n        })\r\n    }\r\n\r\n    closeModal = () => this.setState({ showImg: false });\r\n\r\n    // save text from input fields to state\r\n    handleChange = (e) => {\r\n        const copyState = { ...this.state.userInput };\r\n        const { name, value, id } = e.target;\r\n        const index = id.slice(-1);\r\n        if (name === \"songList\") {\r\n            copyState.songList[index] = value;\r\n        }\r\n        else copyState[name] = value;\r\n        this.setState({\r\n            userInput: copyState\r\n        })\r\n    }\r\n\r\n    // trigger creating new input field for embed code (max. of 3)\r\n    handleAdd = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.numSongs < 3) {\r\n            let copySongList = [...this.state.userInput.songList];\r\n            copySongList.push(\"\");\r\n            const newCount = this.state.numSongs + 1;\r\n            this.setState(prevState => ({\r\n                numSongs: newCount,\r\n                userInput: {\r\n                    ...prevState.userInput,\r\n                    songList: copySongList\r\n                }\r\n            }), () => this.addSongs())\r\n        }\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        let errMsg = \"\";\r\n        e.preventDefault();\r\n\r\n        // check to see if all input fields have been completed\r\n        const copyStateValues = Object.values({ ...this.state.userInput });\r\n        const errCheck = copyStateValues.filter(el => {\r\n            let check = el;\r\n            if (el.length === undefined) check = Object.values(el);\r\n            return check.length > 0\r\n        });\r\n        if (errCheck.length !== 5) errMsg = \"all fields are required\";\r\n\r\n        // check if embed code is from bandcamp\r\n        else {\r\n            copyStateValues[3].forEach(el => {\r\n                if (el.indexOf(\"bandcamp.com/EmbeddedPlayer\") < 0 && el.length > 0) {\r\n                    errMsg = \"please use the embed code from bandcamp\";\r\n                }\r\n            })\r\n        }\r\n\r\n        if (errMsg.length === 0) this.props.handleSubmit(this.state.userInput);\r\n        else this.setState({\r\n            error: {\r\n                isError: true,\r\n                errorMsg: errMsg\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    render() {\r\n        const { title, author, descript, banner } = this.state.userInput;\r\n        const offBtn = this.state.numSongs < 3 ? false : true;\r\n        return (\r\n            <>\r\n                {this.state.showImg && (\r\n                    <>\r\n                        <div className=\"modalBg\"></div>\r\n                        <Modal handleSelect={this.addImg} closeModal={this.closeModal} />\r\n                    </>\r\n                )}\r\n                <form className=\"block newBtn form\">\r\n                    <label className=\"srOnly\" htmlFor=\"inputTitle\">Post Title</label>\r\n                    <input type=\"text\"\r\n                        id=\"postTitle\"\r\n                        value={title}\r\n                        name=\"title\"\r\n                        onChange={this.handleChange}\r\n                        placeholder=\"Post Title\"\r\n                        required />\r\n\r\n                    <label className=\"srOnly\" htmlFor=\"inputAuthor\">Your Name</label>\r\n                    <input type=\"text\"\r\n                        id=\"inputAuthor\"\r\n                        value={author}\r\n                        name=\"author\"\r\n                        onChange={this.handleChange}\r\n                        placeholder=\"Author Name\"\r\n                        required />\r\n\r\n                    <div\r\n                        className={\"bannerImg\" + (banner.imgUrl.length < 1 ? \" noImg\" : \"\")}\r\n                        onClick={() => this.setState({ showImg: true })}\r\n                        tabIndex={0}>\r\n                        {banner.imgUrl.length > 1\r\n                            ? <img src={banner.imgUrl} alt={banner.altText} />\r\n                            : <p>Click to select an image</p>\r\n                        }\r\n                    </div>\r\n\r\n                    <label className=\"srOnly\" htmlFor=\"inputDescrip\">Description</label>\r\n                    <textarea rows=\"7\" maxLength=\"500\"\r\n                        id=\"inputDescrip\"\r\n                        value={descript}\r\n                        name=\"descript\"\r\n                        onChange={this.handleChange}\r\n                        placeholder=\"add a description about your song or album selection. let others konw what kind of mood to expect.\"\r\n                        required></textarea>\r\n\r\n                    <ul>\r\n                        {this.addSongs()}\r\n                    </ul>\r\n\r\n                    <div>\r\n                        <button\r\n                            onClick={this.handleAdd} className=\"impBtn addSongBtn\" disabled={offBtn} aria-disabled={offBtn}>add new song</button>\r\n                    </div>\r\n                    <div className=\"btnContainer\">\r\n                        <button onClick={this.props.closeForm} className=\"delBtn\">delete</button>\r\n                        <button type=\"submit\" onClick={this.handleSubmit} className=\"impBtn\">post</button>\r\n                        <p className={\"errMsg\" + (!this.state.error.isError ? \"\" : \" show\")}>{this.state.error.errorMsg}</p>\r\n                    </div>\r\n                </form>\r\n            </>\r\n        )\r\n    }\r\n}\r\nexport default NewForm;","import './App.css';\r\nimport './Modal.css'\r\n\r\nimport React, { Component } from 'react';\r\nimport firebase from './firebase.js';\r\n\r\nimport Post from './components/Posts.js';\r\nimport NewForm from './components/NewForm.js';\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      posts: [],\r\n      showNew: false,\r\n      touchscreen: false\r\n    }\r\n  }\r\n\r\n  // get saved data from Firebase\r\n  componentDidMount() {\r\n    const dbRef = firebase.database().ref();\r\n    dbRef.on(\"value\", res => {\r\n      const newState = [];\r\n      const data = res.val();\r\n      for (let el in data) {\r\n        newState.unshift({\r\n          key: el,\r\n          content: data[el]\r\n        })\r\n      }\r\n      this.setState({ posts: newState })\r\n    });\r\n\r\n    // checks if device is using touchscreen (no access to bandcamp's embed codes when using bandcamp.com on touch enabled/mobile devices)\r\n    if (('ontouchstart' in window) || (navigator.maxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0)) this.setState({ touchscreen: true })\r\n  }\r\n\r\n  savePost = (userInput) => {\r\n    const { title, author, descript, songList, banner } = userInput;\r\n    const currentDate = new Date();\r\n    const publishDate = `${currentDate.getFullYear()}-${(\"0\" + (currentDate.getMonth() + 1)).slice(-2)}-${(\"0\" + currentDate.getDate()).slice(-2)}`\r\n    let firebaseArr = {\r\n      header: {\r\n        author,\r\n        title,\r\n        publishInfo: publishDate,\r\n        hearts: 0\r\n      },\r\n      description: descript,\r\n      songList: [],\r\n      banner\r\n    }\r\n\r\n    // deconstruct bandcamp embed code\r\n    const copySongList = songList.filter(el => el.length > 0);\r\n    for (let i = 0; i < copySongList.length; i++) {\r\n      const el = copySongList[i]\r\n\r\n      // get album id\r\n      const albumIdStart = el.indexOf(\"album\") + \"album\".length + 1;\r\n      const albumIdEnd = el.indexOf(\"/\", albumIdStart);\r\n      const albumId = el.slice(albumIdStart, albumIdEnd);\r\n\r\n      // get artist link\r\n      const linkStart = el.indexOf(\"<a href\") + \"<a href\".length + 2;\r\n      const linkEnd = el.indexOf(\"\\\">\", linkStart);\r\n      const artistLink = el.slice(linkStart, linkEnd);\r\n\r\n      // get artist credit\r\n      const creditEnd = el.indexOf(\"</a>\", linkEnd);\r\n      const artistCredit = el.slice(linkEnd + 2, creditEnd);\r\n\r\n      firebaseArr.songList.push({\r\n        credit: artistCredit,\r\n        embedId: albumId,\r\n        embedLink: artistLink\r\n      })\r\n    }\r\n    const dbRef = firebase.database().ref();\r\n    dbRef.push(firebaseArr);\r\n    this.setState({ showNew: false })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <h1 className=\"block\">fresh vibes</h1>\r\n\r\n        {this.state.touchscreen ? \"\" :\r\n          !this.state.showNew\r\n            ? <button className=\"block newBtn\" onClick={() => this.setState({ showNew: true })}>+ New</button>\r\n            : <NewForm\r\n              closeForm={() => this.setState({ showNew: false })}\r\n              handleSubmit={this.savePost}\r\n            />}\r\n\r\n        {this.state.posts.map(el => {\r\n          const { header, description, songList, banner } = el.content;\r\n          return (\r\n            <Post\r\n              key={el.key}\r\n              id={el.key}\r\n              header={header}\r\n              description={description}\r\n              songList={songList}\r\n              banner={banner}\r\n            />\r\n          )\r\n        })}\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}